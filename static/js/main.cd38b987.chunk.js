(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(0),r=(n(38),n(39),n(4)),s=n(5),i=n(7),a=n(6),o=n(2),d=n(1),l=n.n(d),u=(n(40),n(41),n.p+"static/media/burger-logo.ec69c7f6.png"),j=(n(42),function(){return Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)("img",{src:u,alt:"MyBurger"})})}),h=(n(43),n(44),n(14)),b=function(e){var t=e.children,n=e.link,r=e.exact;return Object(c.jsx)("li",{className:"item",children:Object(c.jsx)(h.b,{exact:r,to:n,children:t})})},p=function(){return Object(c.jsxs)("ul",{className:"items",children:[Object(c.jsx)(b,{link:"/",exact:!0,children:"Burger Builder"}),Object(c.jsx)(b,{link:"/orders",children:"Orders"})]})},O=(n(50),function(e){var t=e.clicked;return Object(c.jsxs)("div",{className:"drawerToggle",onClick:t,children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})}),m=function(e){var t=e.toggled;return Object(c.jsxs)("header",{className:"toolbar",children:[Object(c.jsx)("div",{className:"toolbarLogo",children:Object(c.jsx)(j,{})}),Object(c.jsx)(O,{clicked:t}),Object(c.jsx)("nav",{className:"desktop",children:Object(c.jsx)(p,{})})]})},x=(n(51),function(e){var t=e.show,n=e.clicked;return t?Object(c.jsx)("div",{className:"backdrop",onClick:n}):null}),g=(n(52),function(e){var t=e.closed,n=e.open,r=["drawer","close"];return n&&(r=["drawer","open"]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x,{show:n,clicked:t}),Object(c.jsxs)("div",{className:r.join(" "),children:[Object(c.jsx)("div",{className:"drawerLogo",children:Object(c.jsx)(j,{})}),Object(c.jsx)("nav",{children:Object(c.jsx)(p,{})})]})]})}),f=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).sideDrawerClosedHandler=function(){c.setState({showSideDrawer:!1})},c.sideDrawerToggleHandler=function(){c.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},c.state={showSideDrawer:!1},c}return Object(s.a)(n,[{key:"render",value:function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m,{toggled:this.sideDrawerToggleHandler}),Object(c.jsx)(g,{open:this.state.showSideDrawer,closed:this.sideDrawerClosedHandler}),Object(c.jsx)("main",{className:"content",children:this.props.children})]})}}]),n}(d.Component),v=n(11),y=n(32),k=n.n(y).a.create({baseURL:"https://react-my-burger-de320.firebaseio.com/"}),C=n(34),N=(n(70),n(71),function(e){var t=null;switch(e.type){case"bread-bottom":t=Object(c.jsx)("div",{className:"BreadBottom"});break;case"bread-top":t=Object(c.jsxs)("div",{className:"BreadTop",children:[Object(c.jsx)("div",{className:"Seeds1"}),Object(c.jsx)("div",{className:"Seeds2"})]});break;case"meat":t=Object(c.jsx)("div",{className:"Meat"});break;case"cheese":t=Object(c.jsx)("div",{className:"Cheese"});break;case"lettuce":t=Object(c.jsx)("div",{className:"Lettuce"});break;case"bacon":t=Object(c.jsx)("div",{className:"Bacon"});break;default:t=null}return t}),w=function(e){var t=e.ingredients,n=Object.keys(t).map((function(e){return Object(C.a)(Array(t[e])).map((function(t,n){return Object(c.jsx)(N,{type:e},e+n)}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===n.length&&(n=Object(c.jsx)("p",{children:"Please start adding ingredients."})),Object(c.jsxs)("div",{className:"burger",children:[Object(c.jsx)(N,{type:"bread-top"}),n,Object(c.jsx)(N,{type:"bread-bottom"})]})},S=(n(72),n(73),function(e){var t=e.label,n=e.added,r=e.removed,s=e.disabled;return Object(c.jsxs)("div",{className:"control",children:[Object(c.jsx)("div",{className:"label",children:t}),Object(c.jsx)("button",{className:"less",onClick:r,disabled:s,children:"Remove"}),Object(c.jsx)("button",{className:"more",onClick:n,children:"Add"})]})}),F=[{label:"Lettuce",type:"lettuce"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],P=function(e){var t=e.ingredientAdded,n=e.ingredientRemoved,r=e.disabled,s=e.price,i=e.purchasable,a=e.ordered;return Object(c.jsxs)("div",{className:"controls",children:[Object(c.jsxs)("p",{children:["Current Price: ",Object(c.jsxs)("strong",{children:["$",s.toFixed(2)]})]}),F.map((function(e){return Object(c.jsx)(S,{label:e.label,added:function(){return t(e.type)},removed:function(){return n(e.type)},disabled:r[e.type]},e.label)})),Object(c.jsx)("button",{disabled:!i,onClick:a,className:"orderBtn mt3",children:"ORDER NOW"})]})},T=(n(74),function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.show,r=e.modalClosed;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x,{show:n,clicked:r}),Object(c.jsx)("div",{className:"modal",style:{transform:n?"translateY(0)":"translateY(-100vh)",opacity:n?"1":"0"},children:t})]})}}]),n}(d.Component)),H=(n(75),function(e){var t=e.children,n=e.clicked,r=e.btnType;return Object(c.jsx)("button",{className:["grow","button",r].join(" "),onClick:n,children:t})}),D=function(e){var t=e.ingredients,n=e.purchaseCancel,r=e.purchaseContinue,s=e.price,i=Object.keys(t).map((function(e){return Object(c.jsxs)("li",{className:"ttc",children:[e,": ",t[e]]},e)}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{className:"tc",children:"Your Order"}),Object(c.jsx)("p",{children:"A delicious burger with the following ingredients:"}),Object(c.jsx)("ul",{children:i}),Object(c.jsx)("p",{children:Object(c.jsxs)("strong",{children:["Total Price: $",s.toFixed(2)," "]})}),Object(c.jsx)("p",{children:"Continue to checkout?"}),Object(c.jsxs)("div",{className:"tc",children:[Object(c.jsx)(H,{btnType:"danger",clicked:n,children:"CANCEL"}),Object(c.jsx)(H,{btnType:"success",clicked:r,children:"CONTINUE"})]})]})},B=(n(76),function(e){var t=["spinner"];return e.looks&&(t=["spinner",e.looks]),Object(c.jsx)("div",{className:t.join(" "),children:"Loading..."})}),I=n(35),E=function(e,t){return function(n){var r=Object(d.useState)(null),s=Object(I.a)(r,2),i=s[0],a=s[1],o=t.interceptors.request.use((function(e){return a(null),e})),l=t.interceptors.response.use((function(e){return e}),(function(e){return a(e),console.log("WithErrorHandler: ",e),Promise.reject(e)}));return Object(d.useEffect)((function(){return function(){t.interceptors.request.eject(o),t.interceptors.response.eject(l)}}),[o,l]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(T,{show:null!==i,modalClosed:function(){return a(null)},children:null!==i?i.message:null}),Object(c.jsx)(e,Object(v.a)({},n))]})}},R={lettuce:.15,bacon:.75,cheese:.5,meat:1.3},A=E(function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).addIngredientHandler=function(e){var t=c.state.ingredients[e]+1,n=Object(v.a)({},c.state.ingredients);n[e]=t;var r=R[e],s=c.state.totalPrice+r;c.setState({totalPrice:s,ingredients:n}),c.updatePurchase(n)},c.removeIngredientHandler=function(e){var t=c.state.ingredients[e];if(!(t<=0)){var n=t-1,r=Object(v.a)({},c.state.ingredients);r[e]=n;var s=R[e],i=c.state.totalPrice-s;c.setState({totalPrice:i,ingredients:r}),c.updatePurchase(r)}},c.purchaseHandler=function(){c.setState({purchasing:!0})},c.purchaseCancel=function(){c.setState({purchasing:!1})},c.purchaseContinue=function(){var e=encodeURIComponent(JSON.stringify(c.state.ingredients)),t=encodeURIComponent(c.state.totalPrice);c.props.history.push({pathname:"/checkout",search:"?ingredients=".concat(e,"&price=").concat(t)})},c.state={ingredients:null,totalPrice:4,purchasable:!1,purchasing:!1,loading:!1,error:null},c}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;k.get("/ingredients.json").then((function(t){e.setState({ingredients:t.data})})).catch((function(t){e.setState({error:!0})}))}},{key:"updatePurchase",value:function(e){var t=Object.keys(e).map((function(t){return e[t]})).reduce((function(e,t){return e+t}),0);this.setState({purchasable:t>0})}},{key:"render",value:function(){var e=Object(v.a)({},this.state.ingredients);for(var t in e)e[t]=e[t]<=0;var n=null,r=this.state.error?Object(c.jsx)("p",{children:"Ingredients couldn't be loaded."}):Object(c.jsx)(B,{looks:"mt6"});return this.state.ingredients&&(r=Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(w,{ingredients:this.state.ingredients}),Object(c.jsx)(P,{ingredientAdded:this.addIngredientHandler,ingredientRemoved:this.removeIngredientHandler,disabled:e,purchasable:this.state.purchasable,ordered:this.purchaseHandler,price:this.state.totalPrice})]}),n=Object(c.jsx)(D,{ingredients:this.state.ingredients,purchaseCancel:this.purchaseCancel,purchaseContinue:this.purchaseContinue,price:this.state.totalPrice})),this.state.loading&&(n=Object(c.jsx)(B,{})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(T,{show:this.state.purchasing,modalClosed:this.purchaseCancel,children:n}),r]})}}]),n}(d.Component),k),L=(n(77),function(e){var t=e.ingredients,n=e.checkoutCanceled,r=e.checkoutContinued;return Object(c.jsxs)("div",{className:"checkoutSummary",children:[Object(c.jsx)("h1",{children:"We hope it tastes good!"}),Object(c.jsx)("div",{style:{width:"100%",margin:"auto"},children:Object(c.jsx)(w,{ingredients:t})}),Object(c.jsx)(H,{clicked:n,btnType:"danger",children:"CANCEL"}),Object(c.jsx)(H,{clicked:r,btnType:"success",children:"CONTINUE"})]})}),U=(n(78),function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,s=new Array(c),i=0;i<c;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name:"",email:"",address:{street:"",city:"",state:"",zip:""},loading:!1,submitted:!1},e.orderHandler=function(t){t.preventDefault(),e.setState({loading:!0});var n={ingredients:e.props.ingredients,price:e.props.price,customer:{name:"Kendra Bryant",adderss:{street:"100 E Center St",city:"Provo",state:"UT",zip:"84606"},email:"kendraa@utahcounty.gov"},deliveryMethod:"fastest"};setTimeout((function(){k.post("/orders.json",n).then((function(t){e.setState({loading:!1,submitted:!0}),setTimeout((function(){e.props.history.push("/")}),3e3)})).catch((function(t){e.setState({loading:!1,submitted:!1}),console.log(t)}))}),2e3)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h4",{children:"Enter your contact information:"}),Object(c.jsxs)("form",{action:"",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Your Name:"}),Object(c.jsx)("input",{type:"text",id:"name",placeholder:"Your Name"}),Object(c.jsx)("label",{htmlFor:"email",children:"Your Email:"}),Object(c.jsx)("input",{type:"email",id:"email",placeholder:"Your Email"}),Object(c.jsx)("label",{htmlFor:"street",children:"Street Address:"}),Object(c.jsx)("input",{type:"text",id:"street",placeholder:"Street Address"}),Object(c.jsx)("label",{htmlFor:"city",children:"City:"}),Object(c.jsx)("input",{type:"text",id:"city",placeholder:"City"}),Object(c.jsx)("label",{htmlFor:"state",children:"State:"}),Object(c.jsx)("input",{type:"text",id:"state",placeholder:"State"}),Object(c.jsx)("label",{htmlFor:"zip",children:"Zip:"}),Object(c.jsx)("input",{type:"text",id:"zip",placeholder:"Zip"}),Object(c.jsx)("hr",{className:"mt3"}),Object(c.jsx)(H,{btnType:"success",clicked:this.orderHandler,children:"ORDER"})]})]});return this.state.loading?e=Object(c.jsx)(B,{}):this.state.submitted&&(e=Object(c.jsx)("h4",{children:"Thank you. Your order has been received."})),Object(c.jsx)("div",{className:"contactData",children:e})}}]),n}(d.Component)),M=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,s=new Array(c),i=0;i<c;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={ingredients:null,price:0},e.checkoutCanceledHandler=function(){e.props.history.goBack()},e.checkoutContinuedHandler=function(){e.props.history.replace("/checkout/contact-data")},e}return Object(s.a)(n,[{key:"componentWillMount",value:function(){var e=new URLSearchParams(this.props.location.search),t=JSON.parse(decodeURIComponent(e.get("ingredients"))),n=decodeURIComponent(e.get("price"));this.setState({ingredients:t,price:n})}},{key:"render",value:function(){var e=this,t=this.props.match.path;return Object(c.jsxs)("div",{children:[Object(c.jsx)(L,{ingredients:this.state.ingredients,checkoutCanceled:this.checkoutCanceledHandler,checkoutContinued:this.checkoutContinuedHandler}),Object(c.jsx)(o.a,{path:"".concat(t,"/contact-data"),render:function(t){return Object(c.jsx)(U,Object(v.a)(Object(v.a)({},t),{},{ingredients:e.state.ingredients,price:e.state.price}))}})]})}}]),n}(d.Component),Y=(n(79),function(e){var t=e.ingredients,n=e.price,r=[];for(var s in t)r.push({name:s,amount:t[s]});var i=r.map((function(e){return Object(c.jsxs)("span",{style:{display:"inline-block",textTransform:"capitalize",margin:"0 8px",border:"1px solid #ccc",padding:"5px"},children:[e.name," (",e.amount,")"]},e.name)}));return Object(c.jsxs)("div",{className:"order",children:[Object(c.jsxs)("p",{children:["Ingredients: ",i]}),Object(c.jsxs)("p",{children:["Price: ",Object(c.jsxs)("strong",{children:["$",Number.parseFloat(n).toFixed(2)]})]})]})}),W=E(function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,s=new Array(c),i=0;i<c;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={orders:[],loading:!0},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;k.get("/orders.json").then((function(t){var n=[];for(var c in t.data)n.push(Object(v.a)(Object(v.a)({},t.data[c]),{},{id:c}));e.setState({loading:!1,orders:n})})).catch((function(t){console.error(t),e.setState({loading:!1})}))}},{key:"render",value:function(){return Object(c.jsx)(c.Fragment,{children:this.state.orders.map((function(e){return Object(c.jsx)(Y,{price:e.price,ingredients:e.ingredients},e.id)}))})}}]),n}(d.Component),k),z=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(f,{children:Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:"/checkout",component:M}),Object(c.jsx)(o.a,{path:"/orders",component:W}),Object(c.jsx)(o.a,{path:"/",exact:!0,component:A})]})})})}}]),n}(d.Component),J=n(33),$=n.n(J),q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));$.a.render(Object(c.jsx)(l.a.StrictMode,{children:Object(c.jsx)(h.a,{children:Object(c.jsx)(z,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),q()}},[[83,1,2]]]);
//# sourceMappingURL=main.cd38b987.chunk.js.map